---
title: LinuxæœåŠ¡ç®¡ç†ï¼ˆå…„å¼Ÿè¿ï¼‰
date: 2022-08-14 14:34:43
tags:
categories:
valine:
  placeholder: "1. æé—®å‰è¯·å…ˆä»”ç»†é˜…è¯»æœ¬æ–‡æ¡£âš¡\n2. é¡µé¢æ˜¾ç¤ºé—®é¢˜ğŸ’¥ï¼Œè¯·æä¾›æ§åˆ¶å°æˆªå›¾ğŸ“¸æˆ–è€…æ‚¨çš„æµ‹è¯•ç½‘å€\n3. å…¶ä»–ä»»ä½•æŠ¥é”™ğŸ’£ï¼Œè¯·æä¾›è¯¦ç»†æè¿°å’Œæˆªå›¾ğŸ“¸ï¼Œç¥é£Ÿç”¨æ„‰å¿«ğŸ’ª"
---

> æœ¬ç¯‡é’ˆå¯¹centos6ï¼Œcentos7å¯¹æ­¤æœ‰è¾ƒå¤šæ”¹åŠ¨ï¼Œä»¥å®é™…ä¸ºå‡†

# æœåŠ¡ç®€ä»‹ä¸åˆ†ç±»

## æœåŠ¡çš„åˆ†ç±»

ä»å®‰è£…æ–¹å¼ä¸Šæ¥çœ‹ï¼ŒlinuxæœåŠ¡åˆ†ä¸ºä¸¤å¤§ç±»ï¼š**RPMåŒ…é»˜è®¤å®‰è£…çš„æœåŠ¡** å’Œ **æºç åŒ…å®‰è£…çš„æœåŠ¡**ï¼Œè€ŒRPMåŒ…å®‰è£…çš„æœåŠ¡åˆåˆ†ä¸ºï¼š**ç‹¬ç«‹çš„æœåŠ¡**ï¼ˆæœåŠ¡ç›´æ¥åœ¨å†…å­˜ä¸­ï¼Œç›´æ¥å“åº”ç”¨æˆ·ï¼‰å’Œ**åŸºäºxinetdçš„æœåŠ¡**ï¼ˆxinetdæœåŠ¡æœ¬èº«ç‹¬ç«‹åœ¨å†…å­˜ä¸­ï¼ŒåŒºåˆ«äºapacheæœåŠ¡ï¼Œæˆ‘ä»¬è®¿é—®xinetdæœåŠ¡æœ¬èº«æ˜¯æ²¡æœ‰ä»»ä½•åŠŸèƒ½çš„ï¼ŒçœŸå®æœåŠ¡æ˜¯åœ¨æ©è—åœ¨xinnetdæœåŠ¡åé¢çš„çœŸå®æœåŠ¡ï¼Œæœ‰ç‚¹ç±»ä¼¼ç®¡ç†æœåŠ¡çš„æœåŠ¡ï¼‰ã€‚

## æœåŠ¡å¯åŠ¨ä¸è‡ªå¯åŠ¨

windowsæœåŠ¡æœ‰çŠ¶æ€å’Œå¯åŠ¨ç±»å‹ï¼ŒçŠ¶æ€åˆ†ä¸ºå¯åŠ¨ã€åœæ­¢ã€æš‚åœå’Œæ¢å¤ï¼Œå¯åŠ¨ç±»å‹åˆ†ä¸ºæ‰‹åŠ¨ã€è‡ªåŠ¨å’Œç¦ç”¨ã€‚æœåŠ¡å¯åŠ¨å°±æ˜¯åœ¨å½“å‰ç³»ç»Ÿä¸­è®©æœåŠ¡è¿è¡Œï¼Œå¹¶æä¾›åŠŸèƒ½ã€‚æœåŠ¡è‡ªå¯åŠ¨æ˜¯æŒ‡è®©æœåŠ¡åœ¨ç³»ç»Ÿå¼€æœºæˆ–é‡å¯åŠ¨ä¹‹åï¼Œéšç€ç³»ç»Ÿçš„å¯åŠ¨è€Œè‡ªåŠ¨å¯åŠ¨æœåŠ¡ã€‚

## æŸ¥è¯¢å·²å®‰è£…çš„æœåŠ¡

1. æŸ¥çœ‹RPMåŒ…å®‰è£…çš„æœåŠ¡ï¼š`chkconfig --list`ï¼ŒæŸ¥çœ‹æœåŠ¡è‡ªå¯åŠ¨çŠ¶æ€ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰RPMåŒ…å®‰è£…çš„æœåŠ¡ã€‚
2. æŸ¥çœ‹æºç åŒ…å®‰è£…çš„æœåŠ¡ï¼šæŸ¥çœ‹æœåŠ¡å®‰è£…ä½ç½®ï¼Œä¸€èˆ¬æ˜¯/usr/local/ä¸‹

```bash
# linuxè¿è¡Œçº§åˆ«
# 0: å…³æœº
# 1: å•ç”¨æˆ·
# 2: ä¸å®Œå…¨å¤šç”¨æˆ·
# 3: å­—ç¬¦ç•Œé¢
# 4: æœªåˆ†é…
# 5: å›¾å½¢ç•Œé¢
# 6: é‡å¯åŠ¨
[root@core-pods-3 ~]# chkconfig --list    # è¿™ä¸ªæ˜¯æŸ¥çœ‹å¼€æœºè‡ªå¯åŠ¨ä¿¡æ¯ï¼Œè€Œä¸æ˜¯å½“å‰æ­£åœ¨å¯åŠ¨
gwarp           0:off   1:off   2:on    3:on    4:on    5:on    6:off
netconsole      0:off   1:off   2:off   3:off   4:off   5:off   6:off
network         0:off   1:off   2:on    3:on    4:on    5:on    6:off
qemukvmga       0:off   1:off   2:on    3:on    4:on    5:on    6:off
[root@core-pods-3 ~]# ps aux    # æŸ¥çœ‹å½“å‰å¯åŠ¨çš„
[root@core-pods-3 ~]# ps aux | grep httpd
root     19315  0.0  0.2 112824  2348 pts/1    S+   02:33   0:00 grep --color=auto httpd
root     25959  0.0  0.5 224096  6100 ?        Ss   Aug04   0:41 /usr/sbin/httpd -k start
apache   25961  0.0  0.5 224232  6028 ?        S    Aug04   0:00 /usr/sbin/httpd -k start
apache   25962  0.0  0.5 224232  6028 ?        S    Aug04   0:00 /usr/sbin/httpd -k start
apache   25963  0.0  0.5 224232  6028 ?        S    Aug04   0:00 /usr/sbin/httpd -k start
apache   25964  0.0  0.5 224232  6028 ?        S    Aug04   0:00 /usr/sbin/httpd -k start
apache   25965  0.0  0.5 224232  6028 ?        S    Aug04   0:00 /usr/sbin/httpd -k start
apache   25971  0.0  0.5 224232  6028 ?        S    Aug04   0:00 /usr/sbin/httpd -k start
apache   25972  0.0  0.5 224232  6028 ?        S    Aug04   0:00 /usr/sbin/httpd -k start
apache   25973  0.0  0.5 224232  6028 ?        S    Aug04   0:00 /usr/sbin/httpd -k start
apache   28356  0.0  0.5 224232  6028 ?        S    Aug04   0:00 /usr/sbin/httpd -k start
apache   28547  0.0  0.5 224232  6028 ?        S    Aug04   0:00 /usr/sbin/httpd -k start
[root@core-pods-3 ~]# netstat -tlun   # è¿™ç§çœ‹ä¸åˆ°å®ˆæŠ¤è¿›ç¨‹ï¼Œå®ˆæŠ¤è¿›ç¨‹æ²¡æœ‰ç«¯å£ï¼Œ
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        0      0 0.0.0.0:29108           0.0.0.0:*               LISTEN     
tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN     
tcp        0      0 0.0.0.0:12345           0.0.0.0:*               LISTEN     
tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN     
tcp        0      0 0.0.0.0:10000           0.0.0.0:*               LISTEN     
tcp6       0      0 :::29108                :::*                    LISTEN     
tcp6       0      0 ::1:25                  :::*                    LISTEN     
tcp6       0      0 :::80                   :::*                    LISTEN     
udp        0      0 0.0.0.0:12345           0.0.0.0:*                          
udp        0      0 0.0.0.0:68              0.0.0.0:*                          
udp        0      0 0.0.0.0:68              0.0.0.0:*                          
udp        0      0 0.0.0.0:44291           0.0.0.0:*                          
udp        0      0 127.0.0.1:323           0.0.0.0:*                          
udp        0      0 0.0.0.0:10000           0.0.0.0:*                          
udp6       0      0 ::1:323                 :::*                               
```

## RPMå®‰è£…æœåŠ¡å’Œæºç åŒ…å®‰è£…æœåŠ¡çš„åŒºåˆ«

å®ƒä»¬çš„ä¸»è¦åŒºåˆ«å°±æ˜¯å®‰è£…ä½ç½®ä¸åŒ
- æºç åŒ…å®‰è£…åœ¨æŒ‡å®šä½ç½®ï¼Œä¸€èˆ¬æ˜¯/usr/local/ï¼Œåˆ é™¤ç›´æ¥æŠŠç›®å½•å¹²æ‰å³å¯ï¼Œä¸ä¼šäº§ç”Ÿä»»ä½•åƒåœ¾æ–‡ä»¶ã€‚
- RPMåŒ…å®‰è£…åœ¨é»˜è®¤çš„ä½ç½®ä¸­ï¼Œå¦‚é…ç½®ç›¸å…³åœ¨/etc, å¯åŠ¨è„šæœ¬/etc/rc.d/init.dï¼ŒRPMåŒ…åˆ é™¤å¿…é¡»åŠ `-e`é€‰é¡¹ï¼ˆæŠŠæ‰€æœ‰å®‰è£…çš„æ–‡ä»¶å¹²æ‰ï¼‰ã€‚

# RPMåŒ…å®‰è£…æœåŠ¡çš„ç®¡ç†

## ç‹¬ç«‹æœåŠ¡çš„ç®¡ç†

1. RPMåŒ…å®‰è£…æœåŠ¡çš„ä½ç½®
RPMå®‰è£…æœåŠ¡å’Œæºç åŒ…å®‰è£…æœåŠ¡çš„åŒºåˆ«å°±æ˜¯å®‰è£…ä½ç½®çš„ä¸åŒã€‚æºç åŒ…å®‰è£…åœ¨æŒ‡å®šä½ç½®ï¼Œä¸€èˆ¬æ˜¯/usr/local/ï¼›RPMåŒ…å®‰è£…åœ¨é»˜è®¤ä½ç½®ä¸­ï¼Œä¸€èˆ¬å¦‚ä¸‹ï¼ˆæ³¨æ„æ˜¯é€šç”¨çš„ï¼Œä¹Ÿæœ‰ç‰¹æ®Šï¼‰ï¼š
   - /etc/init.dï¼šå¯åŠ¨è„šæœ¬ä½ç½®ï¼Œæˆ–è€…/etc/rc.d/init.dä¸‹ï¼Œä¸¤è€…æ˜¯è½¯è¿æ¥å…³ç³»ã€‚
   - /etc/sysconfig/ï¼šåˆå§‹åŒ–ç¯å¢ƒé…ç½®æ–‡ä»¶ä½ç½®
   - /etc/ï¼šé…ç½®æ–‡ä»¶ä½ç½®
   - /etc/xinetd.confï¼šxinetdé…ç½®æ–‡ä»¶
   - /etc/xinetd.d/ï¼šåŸºäºxinetdæœåŠ¡çš„å¯åŠ¨è„šæœ¬
   - /var/lib/ï¼šæœåŠ¡äº§ç”Ÿçš„æ•°æ®æ”¾åœ¨è¿™é‡Œ
   - /var/log/ï¼šæ—¥å¿—

2. ç‹¬ç«‹æœåŠ¡çš„å¯åŠ¨
   - /etc/init.d/ç‹¬ç«‹æœåŠ¡å start|stop|status|restart|
   - service ç‹¬ç«‹æœåŠ¡å start|stop|status|restart|ï¼Œserviceæ˜¯redhatä¸“é—¨å‡†å¤‡çš„å‘½ä»¤ï¼Œ`service --status-all`ï¼ŒæŸ¥çœ‹æ‰€æœ‰
   - systemdå¯åŠ¨ï¼šsystemctl start|stop|status|restart ç‹¬ç«‹æœåŠ¡å

3. ç‹¬ç«‹æœåŠ¡çš„è‡ªå¯åŠ¨
   - è‡ªå¯åŠ¨æ–¹æ³•1ï¼š`chkconfig --list`ï¼Œ`chkconfig --level httpd on`ï¼Œcentos6å¯ä»¥ç”¨chkconfigï¼Œä½†æ˜¯7å°±ä¸è¡Œäº†
     ```bash
     [root@core-pods-3 ~]# systemctl list-unit-files  # centos7çš„systemd
     [root@core-pods-3 ~]# systemctl list-dependencies httpd
     ```
   - è‡ªå¯åŠ¨æ–¹æ³•2ï¼šä¿®æ”¹/etc/rc.d/rc.localï¼Œè¿™ä¸ªæ–‡ä»¶åœ¨ç³»ç»Ÿå¯åŠ¨åï¼Œä¼šåœ¨åœ¨è¾“å…¥ç”¨æˆ·åå¯†ç ä¹‹å‰ä¼šæ‰§è¡Œè¿™ä¸ªæ–‡ä»¶é‡Œå‘½ä»¤
     ```bash
     [root@core-pods-3 ~]# vi /etc/rc.d/rc.local
     ```
   - è‡ªå¯åŠ¨æ–¹æ³•3ï¼šä½¿ç”¨ntsysvå‘½ä»¤ç®¡ç†è‡ªå¯åŠ¨
   - è‡ªå¯åŠ¨æ–¹æ³•4ï¼š`systemctl enable httpd`ï¼Œcentos7

## åŸºäºxinetdæœåŠ¡çš„ç®¡ç†

xinetdï¼Œè¶…çº§å®ˆæŠ¤è¿›ç¨‹æœåŠ¡ï¼Œç®¡ç†å„ä¸ªç‹¬ç«‹æœåŠ¡ï¼Œç›®å‰åŸºäºxinetdçš„æœåŠ¡è¶Šæ¥è¶Šå°‘äº†ã€‚åªæœ‰telnetæœåŠ¡ï¼ˆä¸å¤ªå®‰å…¨ï¼‰å’Œsyncçš„ç½‘ç»œå¤‡ä»½æœåŠ¡ï¼Œtelnetç°åœ¨è¿œç¨‹ç®¡ç†ä¹Ÿæ·˜æ±°äº†ï¼Œéƒ½åœ¨ä½¿ç”¨sshã€‚telneté»˜è®¤ç«¯å£23ï¼Œå¼€å¯åå¯ä»¥ä½¿ç”¨`netstat -tlun`æŸ¥çœ‹ã€‚

### å®‰è£…xinetdä¸telnet

```bash
[root@core-pods-3 ~]# yum -y install xinetd
[root@core-pods-3 ~]# yum -y install telnet-server
[root@core-pods-3 ~]# chkconfig --list  # æ•™ç¨‹é‡Œä½¿ç”¨è¿™ä¸ªå‘½ä»¤å¯ä»¥çœ‹åˆ°telnetï¼Œä½†æ˜¯æˆ‘çš„çœ‹ä¸åˆ°
```

### xinetdæœåŠ¡çš„å¯åŠ¨

å‘½ä»¤æ˜¯`vi /etc/xinetd.d/telnet`ï¼ˆå› ä¸ºæˆ‘æ˜¯centos7ï¼Œæ‰€ä»¥æ²¡æœ‰è¿™ä¸ªç›®å½•ï¼Œä¼¼ä¹centos7çš„telnetä¸å†å±äºxinetdæœåŠ¡äº†ï¼‰ï¼Œæ”¹è¿‡åé‡å¯æœåŠ¡`service xinetd restart`ã€‚

### xinetdæœåŠ¡çš„è‡ªå¯åŠ¨

ä¸¤ç§æ–¹å¼ï¼š`chkconfig telnet on` æˆ–è€… ä½¿ç”¨ntsysvå›¾å½¢ç•Œé¢ç®¡ç†ï¼ˆè¿™ä¸ªæ˜¯çº¢å¸½ä¸“æœ‰ï¼‰ã€‚åŸºäºxinetdæœåŠ¡çš„æœåŠ¡å¯åŠ¨å’Œè‡ªå¯åŠ¨åŒºåˆ†ä¸é‚£ä¹ˆä¸¥æ ¼ï¼Œæœ‰ä¸²é€šï¼Œå°±æ˜¯æœ‰æ—¶å€™ä½ æ”¹äº†è‡ªå¯åŠ¨ï¼Œä¼šå½±å“å¯åŠ¨ã€‚

# æºç åŒ…å®‰è£…æœåŠ¡çš„ç®¡ç†

1. æºç åŒ…å®‰è£…æœåŠ¡çš„å¯åŠ¨

   ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œè°ƒç”¨å¯åŠ¨è„šæœ¬æ¥å¯åŠ¨ã€‚ä¸åŒçš„æºç åŒ…çš„å¯åŠ¨è„šæœ¬ä¸åŒã€‚å¯ä»¥æŸ¥çœ‹æºç åŒ…çš„å®‰è£…è¯´æ˜ï¼ŒæŸ¥çœ‹å¯åŠ¨è„šæœ¬çš„æ–¹æ³•ã€‚egï¼š`/usr/local/apache2/bin/apachectl start|stop`

   ```bash
   [root@core-pods-3 httpd-2.4.54]# pwd
   /usr/local/httpd/httpd-2.4.54
   [root@core-pods-3 httpd-2.4.54]# cat INSTALL | grep apachectl
        $ PREFIX/bin/apachectl start
   ```

2. æºç åŒ…æœåŠ¡çš„è‡ªå¯åŠ¨

   ä¿®æ”¹/etc/rc.d/rc.localï¼Œ`vi /etc/rc.d/rc.local`ï¼ŒåŠ å…¥`/usr/local/apache2/bin/apachectl start`

3. è®©æºç åŒ…æœåŠ¡è¢«æœåŠ¡ç®¡ç†å‘½ä»¤è¯†åˆ«

   è®©æºç åŒ…çš„apacheæœåŠ¡èƒ½è¢«serviceå‘½ä»¤ç®¡ç†å¯åŠ¨ï¼Œåªéœ€è¦åšä¸ªè½¯è¿æ¥å³å¯ï¼š`ln -s /usr/local/apache2/bin/apachectl /etc/init.d/apache`ï¼Œç°åœ¨ç›´æ¥æ‰§è¡Œ`service apache start`å³å¯ã€‚ä¸æ¨èè¿™æ ·åšï¼Œä¸»è¦æ˜¯ä¸ºäº†åŒºåˆ†æºç åŒ…å’ŒRPMåŒ…ï¼Œå®¹æ˜“æ··æ·†ã€‚

   å¦‚æœè®©æºç åŒ…çš„apacheæœåŠ¡èƒ½è¢«chkconfigä¸ntsysvå‘½ä»¤ç®¡ç†è‡ªå¯åŠ¨ï¼Œéœ€è¦`vi /etc/init.d/apache`ï¼ŒæŒ‡å®šhttpdè„šæœ¬å¯ä»¥è¢«chkconfigå‘½ä»¤ç®¡ç†ã€‚
   ```
   æ ¼å¼æ˜¯ï¼š
   chkconfig: è¿è¡Œçº§åˆ« å¯åŠ¨é¡ºåº å…³é—­é¡ºåº   # å¦‚'chkconfig: 25 86 76', å¯åŠ¨é¡ºåº å…³é—­é¡ºåºä¸èƒ½å’Œç°æœ‰çš„æœåŠ¡å¯åŠ¨é¡ºåº å…³é—­é¡ºåºç›¸åŒ
   description: source package apache    # è¿™é‡Œå†…å®¹éšæ„
   ```

   æŸ¥çœ‹å¯åŠ¨é¡ºåºã€å…³é—­é¡ºåº

   ```bash
   [root@core-pods-3 httpd-2.4.54]# ll /etc/rc*     #  æŸ¥çœ‹å¯åŠ¨é¡ºåºã€å…³é—­é¡ºåº
   [root@core-pods-3 httpd-2.4.54]# ll /etc/rc3.d/   #  æŸ¥çœ‹å¯åŠ¨é¡ºåºã€å…³é—­é¡ºåº
   [root@core-pods-3 httpd-2.4.54]# chkconfig --add apache
   [root@core-pods-3 httpd-2.4.54]# chkconfig --list | grep apache
   [root@core-pods-3 httpd-2.4.54]# chkconfig apache on
   [root@core-pods-3 httpd-2.4.54]# chkconfig --list | grep apache
   ```
