---
title: java控制语句规范
date: 2017-09-14 08:36:05
tags:
- principle
categories:
- [学习, Java语言学习, Java开发规范]
valine:
  placeholder: "1. 提问前请先仔细阅读本文档⚡\n2. 页面显示问题💥，请提供控制台截图📸或者您的测试网址\n3. 其他任何报错💣，请提供详细描述和截图📸，祝食用愉快💪"
---

1. 【强制】在一个 switch 块内，每个 case 要么通过 break/return 来终止，要么注释说明程序
   将继续执行到哪一个 case 为止；在一个 switch 块内，都必须包含一个 default 语句并且放在
   最后，即使它什么代码也没有。

2. 【强制】在 if/else/for/while/do 语句中必须使用大括号，即使只有一行代码，避免使用下
   面的形式： if (condition) statements;

3. 【推荐】推荐尽量少用else， if-else 的方式可以改写成：
```
   if(condition){
   …
   return obj;
   }
   // 接着写 else 的业务逻辑代码;
```
   说明： 如果使用要 if-else if-else 方式表达逻辑，【强制】请勿超过 3 层，超过请使用状态
   设计模式。
   （不要超过3层）

4. 【推荐】除常用方法（如 getXxx/isXxx）等外，不要在条件判断中执行复杂的语句，以提高
   可读性。
   正例：
```java
//伪代码如下
InputStream stream = file.open(fileName, "w");
if (stream != null) {
…
}
```
反例：
```java
if (file.open(fileName, "w") != null)) {
…
}
```
（可读性）

5. 【推荐】循环体中的语句要考量性能，以下操作尽量移至循环体外处理，如定义对象、变量、
   获取数据库连接，进行不必要的 try-catch 操作（这个 try-catch 是否可以移至循环体外）。

6. 【推荐】接口入参保护，这种场景常见的是用于做批量操作的接口。

7. 【参考】方法中需要进行参数校验的场景：
   - 1） 调用频次低的方法。
   - 2） 执行时间开销很大的方法，参数校验时间几乎可以忽略不计，但如果因为参数错误导致
   中间执行回退，或者错误，那得不偿失。
   - 3） 需要极高稳定性和可用性的方法。
   - 4） 对外提供的开放接口，不管是 RPC/API/HTTP 接口。

8. 【参考】方法中不需要参数校验的场景：
    - 1） 极有可能被循环调用的方法，不建议对参数进行校验。但在方法说明里必须注明外部参
   数检查。
   - 2） 底层的方法调用频度都比较高，一般不校验。毕竟是像纯净水过滤的最后一道，参数错
   误不太可能到底层才会暴露问题。一般 DAO 层与 Service 层都在同一个应用中，部署在同一台
   服务器中，所以 DAO 的参数校验，可以省略。
   - 3） 被声明成 private 只会被自己代码所调用的方法，如果能够确定调用方法的代码传入参
   数已经做过检查或者肯定不会有问题，此时可以不校验参数。

