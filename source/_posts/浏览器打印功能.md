---
title: æµè§ˆå™¨æ‰“å°åŠŸèƒ½
date: 2018-06-15 16:12:52
tags:
categories:
valine:
  placeholder: "1. æé—®å‰è¯·å…ˆä»”ç»†é˜…è¯»æœ¬æ–‡æ¡£âš¡\n2. é¡µé¢æ˜¾ç¤ºé—®é¢˜ğŸ’¥ï¼Œè¯·æä¾›æ§åˆ¶å°æˆªå›¾ğŸ“¸æˆ–è€…æ‚¨çš„æµ‹è¯•ç½‘å€\n3. å…¶ä»–ä»»ä½•æŠ¥é”™ğŸ’£ï¼Œè¯·æä¾›è¯¦ç»†æè¿°å’Œæˆªå›¾ğŸ“¸ï¼Œç¥é£Ÿç”¨æ„‰å¿«ğŸ’ª"
---

```html
<button type="button" class="btn btn-info" Î¿nclick="doPrint()">æ‰“å°æŒ‰é’®</button>
```

```javascript
<script>
        function doPrint() {
            // 0.å¤‡ä»½ä¹‹å‰é¡µé¢ï¼Œå› ä¸ºåé¢é¡µé¢æœ‰æ”¹åŠ¨
            var bdhtml = window.document.body.innerHTML;
            var html = "";
            // 1.æ ¹æ®é€‰æ‹©æ¡ä»¶è·å–æ•°æ®            
            var matchId = $("#match").val();//èµ›äº‹
            var campusId = $("#matchTeam").val();//æ ¡åŒº
            $.ajax({
                type : "GET",
                async : false,
                url : "/generPrintData?matchId="+matchId+"&campusId="+campusId,
                error : function(request) {
                    parent.layer.alert("Connection error");
                },
                success : function(data) {
					// 2.æ ¹æ®å–å¾—æ•°æ®æ¸²æŸ“div
                    for (var i=0;i<data.length;i++){
                        var obj = data[i];
                        var showHtml = "";
                        showHtml = "<div id=\"printDiv\" style=\"width: 210mm;page-break-after: always\">";
 
			showHtml += "<div style=\"text-align:center;height: 10mm;margin-top: 30mm;font-family: å®‹ä½“;font-weight:bold;font-size: 30px\">"+obj.matchName+"</div><br>";
			showHtml += "<div style=\"text-align:center;height: 60mm\">";
			showHtml += "<table style=\"width: 150mm;text-align: left;margin-left: 20mm;font-size: 20px;font-family: å®‹ä½“\">";
			showHtml += "<tr style=\"height: 8mm\"><td width=\"400mm\">å§“â€ƒâ€ƒåï¼š"+obj.name+"</td><td>æ€§åˆ«ï¼š"+obj.sex+"</td></tr>";
			showHtml += "<tr style=\"height: 8mm\"><td>æŠ¥è€ƒå•ä½ï¼š"+obj.campusName+"</td></tr>";
			showHtml += "<tr style=\"height: 8mm\"><td>å‡ºç”Ÿæ—¥æœŸï¼š"+obj.birthday.split(" ")[0]+"</td></tr>";
			showHtml += "<tr style=\"height: 8mm\"><td>è€ƒè¯•çº§åˆ«ï¼š"+obj.levelName+"</td></tr>";
			showHtml += "<tr style=\"height: 8mm\"><td>è€ƒè¯•å¸¦è‰²ï¼š"+obj.beltColor+"</td></tr>";
                        showHtml += "<tr style=\"height: 8mm\"><td>æŒ‡å¯¼æ•™ç»ƒï¼š"+obj.coach+"</td></tr>";
                        showHtml += "<tr style=\"height: 8mm\"><td>è€ƒè¯•ç¼–å·ï¼š"+obj.matchAddress+obj.stage+obj.stageOrder+"</td></tr>";
                        showHtml += "</table>";
                        showHtml += "</div><br><br>";
                        showHtml += "<div style=\"margin-left: 55mm;font-family: å®‹ä½“;font-size: 18px\">å¤‡â€ƒæ³¨</div><br>";
                        showHtml += "<div style=\"text-align: left;font-family: å®‹ä½“;margin-left: 20mm;font-size: 18px\">1.å­¦å‘˜å‡­æ­¤è¯è¿›å…¥è€ƒåœºå‚åŠ æ™‹çº§è€ƒè¯•ï¼›</div>";
                        showHtml += "<div style=\"text-align: left;font-family: å®‹ä½“;margin-left: 20mm;font-size: 18px\">2.å­¦é™¢è€ƒçº§ç»“æŸåå‡­å‡†è€ƒè¯å’Œæˆç»©å•é¢†å–è¯ä¹¦å’Œè…°å¸¦ï¼›</div>";
                        showHtml += "</div>";
                        html += showHtml;
					}
                }
            });
 
            // 3.æ‰“å°è¯¥div
            window.document.body.innerHTML = html;
            window.print();
            // 4.è¿˜åŸå¤‡ä»½é¡µé¢
            window.document.body.innerHTML = bdhtml;
            window.location.reload();
        }
</script>
```
